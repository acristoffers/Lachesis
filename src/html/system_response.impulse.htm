<div flex id="system-response-impulse">
    <div>
        <div id="step-graph"></div>
        <img width="256" src="imgs/impulse-variables.png">
    </div>
    <div stretch default-padding>
        <h2>{{ 'Curve data' | translate }}</h2>

        <div default-padding>
            <md-input-container class="width-100">
                <input mdInput placeholder="V0" [(ngModel)]="v0" (blur)="plotPoints()" type="number">
            </md-input-container>
            <md-input-container class="width-100">
                <input mdInput placeholder="âˆ†T (segundos)" [(ngModel)]="dt" (blur)="plotPoints()" type="number">
            </md-input-container>
            <md-input-container class="width-100">
                <input mdInput placeholder="T0 (segundos)" [(ngModel)]="t0" (blur)="plotPoints()" type="number">
            </md-input-container>
            <md-input-container class="width-100">
                <input mdInput placeholder="T1 (segundos)" [(ngModel)]="t1" (blur)="plotPoints()" type="number">
            </md-input-container>
        </div>

        <h2>{{ 'Input/Output Configuration' | translate }}</h2>

        <h3>{{ 'Output to control' | translate }}</h3>
        <div default-padding>
            <md-select placeholder="{{ 'Output' | translate }}" class="width-100" [(ngModel)]="test.output">
                <md-option *ngFor="let output of outputs" [value]="output">
                    {{ output }}
                </md-option>
            </md-select>
        </div>

        <h3>{{ 'Inputs to log' | translate }}</h3>
        <div default-padding>
            <div *ngFor="let input of inputs" class="input">
                <md-checkbox [(ngModel)]="input[1]" (change)="updateInputs()">{{ input[0] }}</md-checkbox>
            </div>
        </div>

        <h3>{{ 'Log Rate' | translate }}</h3>
        <div default-padding>
            <md-input-container class="width-100">
                <input mdInput [placeholder]="'Log Rate (seconds)' | translate" [(ngModel)]="test.logRate" type="number">
            </md-input-container>
        </div>

        <h3>{{ 'Fixed outputs' | translate }}</h3>
        <div default-padding>
            <table class="width-100">
                <tbody>
                    <tr *ngFor="let output of test.fixedOutputs" inline-form>
                        <td stretch>
                            <md-select placeholder="{{ 'Output' | translate }}" class="width-100" [(ngModel)]="output.alias">
                                <md-option *ngFor="let out of outputs" [value]="out">
                                    {{ out }}
                                </md-option>
                            </md-select>
                        </td>
                        <td>
                            <md-input-container class="width-100">
                                <input mdInput [placeholder]="'Value' | translate" [(ngModel)]="output.value" type="number">
                            </md-input-container>
                        </td>
                        <td>
                            <button md-raised-button color="warn" (click)="removeFixedOutput(output)">{{ 'Remove' | translate }}</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button md-raised-button color="secondary" (click)="addFixedOutput()">{{ 'Add' | translate }}</button>
        </div>

        <h3>{{ 'After test outputs' | translate }}</h3>
        <div default-padding>
            <table class="width-100">
                <tbody>
                    <tr *ngFor="let output of test.afterOutputs" inline-form>
                        <td stretch>
                            <md-select placeholder="{{ 'Output' | translate }}" class="width-100" [(ngModel)]="output.alias">
                                <md-option *ngFor="let out of outputs" [value]="out">
                                    {{ out }}
                                </md-option>
                            </md-select>
                        </td>
                        <td>
                            <md-input-container class="width-100">
                                <input mdInput [placeholder]="'Value' | translate" [(ngModel)]="output.value" type="number">
                            </md-input-container>
                        </td>
                        <td>
                            <button md-raised-button color="warn" (click)="removeAfterOutput(output)">{{ 'Remove' | translate }}</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button md-raised-button color="secondary" (click)="addAfterOutput()">{{ 'Add' | translate }}</button>
        </div>
    </div>
</div>